<!DOCTYPE html>
<html lang="en">
  <head> </head>
  <body>
    <p id="title">Level 2</p>
    <p id="output"></p>
    <iframe width="600px" height="600px" src="/level-3.html"> </iframe>
    <script>
      const level2 = window.document.getElementById("title");
      const level1 = window.parent.document.getElementById("title");
      const root = window.parent.parent.document.getElementById("title");

      let levelTop;
      try {
        levelTop = window.top.document.getElementById("title");
      } catch (err) {
        console.log("Level 2 cannot access top property on window");
      }

      level2.setAttribute("style", "background-color: blue");

      const outputText = [
        level2.innerText,
        level1.innerText,
        root.innerText,
        levelTop?.innerText
      ].join(", ");

      const o = window.document.getElementById("output");
      o.innerText = outputText;
    </script>
  </body>
</html>
